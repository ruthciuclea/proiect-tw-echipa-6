<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professor - Quizzes</title>
    <link rel="stylesheet" href="../style/styles.css">
</head>
<body>
    <div class="app-container">
        <nav class="nav-bar">
            <span class="nav-header">Teacher Portal</span>
            <div class="nav-links">
                <a href="professor_quizzes.html" class="nav-item active">
                    <span class="nav-icon">ğŸ“</span> <span>Quizzes</span>
                </a>
                <a href="professor_classes.html" class="nav-item">
                    <span class="nav-icon">ğŸ«</span> <span>Classes</span>
                </a>
                <a href="#" onclick="logout()" class="nav-item">
                    <span class="nav-icon">ğŸšª</span> <span>Logout</span>
                </a>
            </div>
        </nav>

        <main class="main-content">
            <div class="mobile-header">Quizzes</div>
            
            <div class="card" style="background:transparent; box-shadow:none; padding:0;">
                <input type="text" id="search" placeholder="Search by class, student etc. ğŸ”">
            </div>

            <div id="quiz-list-container">
                </div>

            <button class="primary-btn" onclick="window.location.href='create_quiz.html'" style="margin-top: 20px;">
                CREATE NEW QUIZ
            </button>
        </main>
    </div>

    <script src="../js/script.js"></script>
    <script>
        // Custom renderer for this page to include the SCAN button
        function renderProfessorQuizzes() {
            const container = document.getElementById('quiz-list-container');
            const quizzes = getQuizzes();
            container.innerHTML = quizzes.map(q => `
                <div class="list-item" style="flex-wrap: wrap; gap: 10px;">
                    <div style="flex: 1;">
                        <strong>${q.name}</strong>
                        <div class="text-small">Papers: ${q.papers} | ${q.date}</div>
                    </div>
                    <div style="display: flex; gap: 5px; flex-wrap: wrap;">
                        <button class="secondary-btn" style="padding: 5px 10px; font-size: 12px;" onclick="showQuizStudents(${q.id})">
                            ğŸ‘¥ View Students
                        </button>
                        <button class="secondary-btn" style="padding: 5px 10px; font-size: 12px;" onclick="window.location.href='scan_quiz.html'">
                            ğŸ“· Scan
                        </button>
                    </div>
                </div>
            `).join('');
        }
        renderProfessorQuizzes();
    </script>
</body>
</html>