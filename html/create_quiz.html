<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Quiz</title>
    <link rel="stylesheet" href="../style/styles.css">
</head>
<body>
    <div class="app-container">
        <nav class="nav-bar">
            <span class="nav-header">Teacher Portal</span>
            <div class="nav-links">
                <a href="professor_quizzes.html" class="nav-item active">
                    <span class="nav-icon">üìù</span> <span>Quizzes</span>
                </a>
                <a href="professor_classes.html" class="nav-item">
                    <span class="nav-icon">üè´</span> <span>Classes</span>
                </a>
                <a href="index.html" class="nav-item">
                    <span class="nav-icon">üö™</span> <span>Logout</span>
                </a>
            </div>
        </nav>

        <main class="main-content">
            <div class="mobile-header">New Quiz</div>

            <div class="card">
                <h3>Create New Quiz</h3>
                
                <label>Quiz Name</label>
                <input type="text" id="quizName" placeholder="e.g. Midterm ASD">

                <label>Number of Questions</label>
                <div class="flex-row">
                    <input type="number" id="qCount" value="20" style="width: 80px;">
                    <span class="text-small" style="color: #4ecdc4; cursor: pointer;">Change</span>
                </div>

                <h4 style="margin: 20px 0 10px;">Answer Key</h4>
                
                <div id="answers-rows">
                    <div class="flex-row" style="margin-bottom: 10px;">
                        <strong>1.</strong>
                        <select style="width: 60px; margin:0;"><option>A</option><option>B</option></select>
                        [cite_start]<span class="text-small" style="color:#ff6b6b; cursor: pointer;" onclick="alert('Justification PDF feature would open here [cite: 27]')">+ Justification</span>
                    </div>
                    <div class="flex-row" style="margin-bottom: 10px;">
                        <strong>2.</strong>
                        <select style="width: 60px; margin:0;"><option>B</option><option>C</option></select>
                    </div>
                </div>

                <button class="primary-btn" onclick="handleCreate()">SAVE QUIZ</button>
                <button class="secondary-btn" style="width:100%; margin-top:10px; border:none;" onclick="history.back()">Cancel</button>
            </div>
        </main>
    </div>

    <script src="../js/script.js"></script>
    <script>
        function handleCreate() {
            const name = document.getElementById('quizName').value;
            const count = document.getElementById('qCount').value;
            
            if(!name) { alert('Please enter a name'); return; }

            createQuiz(name, count);
            alert('Quiz Created!');
            window.location.href = 'professor_quizzes.html';
        }
    </script>
</body>
</html>